import React from "react";

import { motion } from "framer-motion";

const CaveCard = ({ cellarId, name, maxCount, bottles, openUpdateModal, openDeleteModal, setCurrentId, onClick }) => {

    const openDM = () => {
        openUpdateModal(true);
        setCurrentId(cellarId);
    }
    
    const openUM = () => {
        openDeleteModal(true);
        setCurrentId(cellarId);
    }

    return (
        <motion.li
        
            initial={{ y: "-10%", opacity: 0 }}
            animate={{ y: 0, opacity: 1 }}
            exit={{ scale: 0.5, opacity: 0 }}

            transition={{ duration: 1, ease: "anticipate" }}
        
        className="cave-card">
            
            <div className="cave-card__body">
                
                <svg onClick={openUM} className="cave-card__delete" viewBox="0 0 348.333 348.334">
                    <path d="M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85   c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563   c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85   l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554   L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z"/>
                </svg>
                <svg onClick={openDM} viewBox="0 0 469.336 469.336" className="cave-card__update">
                    <path d="M456.836,76.168l-64-64.054c-16.125-16.139-44.177-16.17-60.365,0.031L45.763,301.682    c-1.271,1.282-2.188,2.857-2.688,4.587L0.409,455.73c-1.063,3.722-0.021,7.736,2.719,10.478c2.031,2.033,4.75,3.128,7.542,3.128    c0.979,0,1.969-0.136,2.927-0.407l149.333-42.703c1.729-0.5,3.302-1.418,4.583-2.69l289.323-286.983    c8.063-8.069,12.5-18.787,12.5-30.192S464.899,84.237,456.836,76.168z M285.989,89.737l39.264,39.264L120.257,333.998    l-14.712-29.434c-1.813-3.615-5.5-5.896-9.542-5.896H78.921L285.989,89.737z M26.201,443.137L40.095,394.5l34.742,34.742    L26.201,443.137z M149.336,407.96l-51.035,14.579l-51.503-51.503l14.579-51.035h28.031l18.385,36.771    c1.031,2.063,2.708,3.74,4.771,4.771l36.771,18.385V407.96z M170.67,390.417v-17.082c0-4.042-2.281-7.729-5.896-9.542    l-29.434-14.712l204.996-204.996l39.264,39.264L170.67,390.417z M441.784,121.72l-47.033,46.613l-93.747-93.747l46.582-47.001    c8.063-8.063,22.104-8.063,30.167,0l64,64c4.031,4.031,6.25,9.385,6.25,15.083S445.784,117.72,441.784,121.72z" />
                </svg>
                
                <h2 className="cave-card__name">{name}</h2>
                <p className="cave-card__max-count">Vous pouvez contenir {maxCount} bouteilles maximum</p>
            </div>

            <div onClick={_ => onClick(name, bottles, cellarId)} className="cave-card__footer">
                <svg className="--cellarSvg" viewBox="-27 0 512 512">
                    <path d="m331.1875 492c-2.628906 0-5.210938 1.070312-7.070312 2.929688-1.859376 1.859374-2.929688 4.441406-2.929688 7.070312s1.070312 5.210938 2.929688 7.070312c1.859374 1.859376 4.441406 2.929688 7.070312 2.929688s5.210938-1.070312 7.070312-2.929688c1.859376-1.859374 2.929688-4.441406 2.929688-7.070312s-1.070312-5.210938-2.929688-7.070312c-1.859374-1.859376-4.441406-2.929688-7.070312-2.929688zm0 0"/>
                    <path d="m100.882812 372.152344c-16.542968 0-30 13.457031-30 30 0 16.542968 13.457032 30 30 30 16.542969 0 30-13.457032 30-30 0-16.542969-13.457031-30-30-30zm0 40c-5.515624 0-10-4.488282-10-10 0-5.515625 4.484376-10 10-10 5.511719 0 10 4.484375 10 10 0 5.511718-4.488281 10-10 10zm0 0"/>
                    <path d="m229.1875 432.152344c16.542969 0 30-13.457032 30-30 0-16.542969-13.457031-30-30-30s-30 13.457031-30 30c0 16.542968 13.457031 30 30 30zm0-40c5.511719 0 10 4.484375 10 10 0 5.511718-4.488281 10-10 10-5.515625 0-10-4.488282-10-10 0-5.515625 4.484375-10 10-10zm0 0"/>
                    <path d="m357.492188 432.152344c16.542968 0 30-13.457032 30-30 0-16.542969-13.457032-30-30-30-16.542969 0-30 13.457031-30 30 0 16.542968 13.457031 30 30 30zm0-40c5.515624 0 10 4.484375 10 10 0 5.511718-4.484376 10-10 10-5.515626 0-10-4.488282-10-10 0-5.515625 4.484374-10 10-10zm0 0"/><path d="m458.375 320.152344c0-15.355469-12.492188-27.847656-27.847656-27.847656h-22.457032c14.492188-13.542969 23.574219-32.800782 23.574219-54.152344 0-21.351563-9.082031-40.609375-23.574219-54.152344h22.457032c15.355468 0 27.847656-12.492188 27.847656-27.847656 0-15.355469-12.492188-27.847656-27.847656-27.847656h-22.457032c14.492188-13.542969 23.574219-32.800782 23.574219-54.152344 0-40.886719-33.265625-74.152344-74.152343-74.152344-27.371094 0-51.304688 14.914062-64.152344 37.035156-12.847656-22.121094-36.785156-37.035156-64.152344-37.035156-27.371094 0-51.304688 14.914062-64.152344 37.035156-12.847656-22.121094-36.785156-37.035156-64.152344-37.035156-40.886718 0-74.152343 33.265625-74.152343 74.152344 0 21.351562 9.082031 40.609375 23.570312 54.152344h-22.453125c-15.355468 0-27.847656 12.492187-27.847656 27.847656 0 15.355468 12.492188 27.847656 27.847656 27.847656h22.453125c-14.488281 13.542969-23.570312 32.800781-23.570312 54.152344 0 21.351562 9.082031 40.609375 23.570312 54.152344h-22.453125c-15.355468 0-27.847656 12.492187-27.847656 27.847656 0 15.355468 12.492188 27.847656 27.847656 27.847656h22.453125c-14.488281 13.542969-23.570312 32.800781-23.570312 54.152344 0 21.351562 9.082031 40.609375 23.570312 54.152344h-22.453125c-15.355468 0-27.847656 12.492187-27.847656 27.847656 0 15.355468 12.492188 27.847656 27.847656 27.847656h265.492188c5.519531 0 10-4.476562 10-10s-4.480469-10-10-10h-265.492188c-4.328125 0-7.847656-3.519531-7.847656-7.847656s3.519531-7.847656 7.847656-7.847656h402.679688c4.324218 0 7.847656 3.519531 7.847656 7.847656s-3.523438 7.847656-7.847656 7.847656h-61.339844c-5.523438 0-10 4.476562-10 10s4.476562 10 10 10h61.339844c15.355468 0 27.847656-12.492188 27.847656-27.847656 0-15.355469-12.492188-27.847656-27.847656-27.847656h-22.457032c14.492188-13.542969 23.574219-32.800782 23.574219-54.152344 0-21.351563-9.082031-40.609375-23.574219-54.152344h22.457032c15.355468 0 27.847656-12.492188 27.847656-27.847656zm-46.730469-82c0 29.859375-24.292969 54.152344-54.152343 54.152344-29.859376 0-54.152344-24.292969-54.152344-54.152344s24.292968-54.152344 54.152344-54.152344c29.859374 0 54.152343 24.292969 54.152343 54.152344zm-236.609375 0c0-29.859375 24.292969-54.152344 54.152344-54.152344s54.152344 24.292969 54.152344 54.152344-24.292969 54.152344-54.152344 54.152344-54.152344-24.292969-54.152344-54.152344zm3.570313 54.152344h-27.144531c5.316406-4.96875 9.898437-10.703126 13.574218-17.035157 3.675782 6.332031 8.253906 12.066407 13.570313 17.035157zm-13.570313-91.269532c-3.675781-6.328125-8.257812-12.066406-13.570312-17.035156h27.140625c-5.316407 4.96875-9.894531 10.703125-13.570313 17.035156zm114.734375-17.035156h27.140625c-5.3125 4.96875-9.894531 10.703125-13.570312 17.035156-3.675782-6.332031-8.257813-12.066406-13.570313-17.035156zm13.570313 91.269531c3.675781 6.328125 8.257812 12.066407 13.570312 17.035157h-27.144531c5.316406-4.96875 9.898437-10.703126 13.574219-17.035157zm64.152344-255.269531c29.859374 0 54.152343 24.292969 54.152343 54.152344s-24.292969 54.152344-54.152343 54.152344c-29.859376 0-54.152344-24.292969-54.152344-54.152344s24.292968-54.152344 54.152344-54.152344zm-50.582032 108.304688h-27.144531c5.316406-4.96875 9.898437-10.707032 13.574219-17.035157 3.675781 6.328125 8.257812 12.066407 13.570312 17.035157zm-77.722656-108.304688c29.859375 0 54.152344 24.292969 54.152344 54.152344s-24.292969 54.152344-54.152344 54.152344-54.152344-24.292969-54.152344-54.152344 24.292969-54.152344 54.152344-54.152344zm-50.582031 108.304688h-27.144531c5.316406-4.96875 9.898437-10.707032 13.574218-17.035157 3.675782 6.328125 8.253906 12.066407 13.570313 17.035157zm-131.875-54.152344c0-29.859375 24.292969-54.152344 54.152343-54.152344 29.859376 0 54.152344 24.292969 54.152344 54.152344s-24.292968 54.152344-54.152344 54.152344c-29.859374 0-54.152343-24.292969-54.152343-54.152344zm-18.882813 89.847656c-4.328125 0-7.847656-3.519531-7.847656-7.847656s3.519531-7.847656 7.847656-7.847656h402.679688c4.324218 0 7.847656 3.519531 7.847656 7.847656s-3.523438 7.847656-7.847656 7.847656zm18.882813 74.152344c0-29.859375 24.292969-54.152344 54.152343-54.152344 29.859376 0 54.152344 24.292969 54.152344 54.152344s-24.292968 54.152344-54.152344 54.152344c-29.859374 0-54.152343-24.292969-54.152343-54.152344zm0 164c0-29.859375 24.292969-54.152344 54.152343-54.152344 29.859376 0 54.152344 24.292969 54.152344 54.152344s-24.292968 54.152344-54.152344 54.152344c-29.859374 0-54.152343-24.292969-54.152343-54.152344zm236.609375 0c0 29.859375-24.292969 54.152344-54.152344 54.152344s-54.152344-24.292969-54.152344-54.152344 24.292969-54.152344 54.152344-54.152344 54.152344 24.292969 54.152344 54.152344zm-3.570313-54.152344h27.140625c-5.3125 4.96875-9.894531 10.703125-13.570312 17.035156-3.675782-6.332031-8.257813-12.066406-13.570313-17.035156zm-114.734375 17.035156c-3.675781-6.328125-8.257812-12.066406-13.570312-17.035156h27.140625c-5.316407 4.96875-9.894531 10.703125-13.570313 17.035156zm-13.570312 91.269532c5.3125-4.96875 9.894531-10.703126 13.570312-17.035157 3.675782 6.328125 8.257813 12.066407 13.570313 17.035157zm128.304687 0c5.3125-4.96875 9.894531-10.703126 13.570313-17.035157 3.675781 6.328125 8.257812 12.066407 13.570312 17.035157zm131.875-54.152344c0 29.859375-24.292969 54.152344-54.152343 54.152344-29.859376 0-54.152344-24.292969-54.152344-54.152344s24.292968-54.152344 54.152344-54.152344c29.859374 0 54.152343 24.292969 54.152343 54.152344zm-383.796875-74.152344c-4.328125 0-7.847656-3.519531-7.847656-7.847656s3.519531-7.847656 7.847656-7.847656h402.679688c4.324218 0 7.847656 3.519531 7.847656 7.847656s-3.523438 7.847656-7.847656 7.847656zm0 0"/><path d="m100.882812 208.152344c-16.542968 0-30 13.457031-30 30 0 16.542968 13.457032 30 30 30 16.542969 0 30-13.457032 30-30 0-16.542969-13.457031-30-30-30zm0 40c-5.515624 0-10-4.488282-10-10 0-5.515625 4.484376-10 10-10 5.511719 0 10 4.484375 10 10 0 5.511718-4.488281 10-10 10zm0 0"/><path d="m229.1875 208.152344c-16.542969 0-30 13.457031-30 30 0 16.542968 13.457031 30 30 30s30-13.457032 30-30c0-16.542969-13.457031-30-30-30zm0 40c-5.515625 0-10-4.488282-10-10 0-5.515625 4.484375-10 10-10 5.511719 0 10 4.484375 10 10 0 5.511718-4.488281 10-10 10zm0 0"/><path d="m357.492188 268.152344c16.542968 0 30-13.457032 30-30 0-16.542969-13.457032-30-30-30-16.542969 0-30 13.457031-30 30 0 16.542968 13.457031 30 30 30zm0-40c5.515624 0 10 4.484375 10 10 0 5.511718-4.484376 10-10 10-5.515626 0-10-4.488282-10-10 0-5.515625 4.484374-10 10-10zm0 0"/><path d="m100.882812 44.152344c-16.542968 0-30 13.457031-30 30 0 16.542968 13.457032 30 30 30 16.542969 0 30-13.457032 30-30 0-16.542969-13.457031-30-30-30zm0 40c-5.515624 0-10-4.488282-10-10 0-5.515625 4.484376-10 10-10 5.511719 0 10 4.484375 10 10 0 5.511718-4.488281 10-10 10zm0 0"/><path d="m229.1875 104.152344c16.542969 0 30-13.457032 30-30 0-16.542969-13.457031-30-30-30s-30 13.457031-30 30c0 16.542968 13.457031 30 30 30zm0-40c5.511719 0 10 4.484375 10 10 0 5.511718-4.488281 10-10 10-5.515625 0-10-4.488282-10-10 0-5.515625 4.484375-10 10-10zm0 0"/><path d="m357.492188 104.152344c16.542968 0 30-13.457032 30-30 0-16.542969-13.457032-30-30-30-16.542969 0-30 13.457031-30 30 0 16.542968 13.457031 30 30 30zm0-40c5.515624 0 10 4.484375 10 10 0 5.511718-4.484376 10-10 10-5.515626 0-10-4.488282-10-10 0-5.515625 4.484374-10 10-10zm0 0"/>
                </svg>
                <p className="cave-card__current-count">
                {
                    bottles.length > 0 ? (
                        `${bottles.length} bouteille${(bottles.length > 1 ? "s" : "")} dans cette cave.`
                    ) : (
                        "Cette cave est vide"
                    )
                }
                </p>
            </div>
        </motion.li>
    );
}

export default CaveCard;